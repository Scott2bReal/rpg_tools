{% extends "layout.html" %}

{% block title %}
  Add Character
{% endblock %}

{% block main %}
   <form name="addchar" class="form-group" action="/addremove" method="POST"
                                                               onsubmit="return
                                                               validateaddform()">
     <h4>Add a Character</h4>
      <div class="form-group">
         <input name="addcharname" class="form-control" autocomplete="off"
                                                        placeholder="Name"
                                                        required>
      </div>
      <div class="form-group">
         <input name="maxhp" class="form-control" autocomplete="off"
                                                  placeholder="Max HP"
                                                  required>
      </div>
      <button name="addcharbtn" type="submit" class="btn btn-primary">Add Character</button>
   </form>
   <form name="removechar">
     <select class="form-group" name="removecharlist">
       {% for char in characters %}
       <option value="{{ char.name }}">{{ char.name }}</option>
       {% endfor %}
     </select>
     <button name="removecharbtn" type="submit" class="btn btn-primary">Remove Character</button> 
   </form>

   <script>
      function validateaddform(){
         let name = document.forms['addchar']['addcharname'].value;
         let maxhp = document.forms['addchar']['maxhp'].value;
         if (name == ""){
            alert("Please enter a name");
            return false;
         } else if (maxhp < 1){
            alert("Max HP must be at least 1");
            return false;
         } else {
            alert("Character ${name} added!");
            return true;
         }
      }
   </script>

{% endblock %}
