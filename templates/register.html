{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <h1 class="instruction">Make an account!</h1>
    <p class="instruction">Access the dice roller and save characters</p>
    <h4 class="instruction">Create a username and password</h4>
    <form name="register" class="form-group" action="/register" onsubmit="return validateform()" method="POST">
        <div class="form-group">
            <input class="form-control" name="user" autocomplete="off" autofocus placeholder="Username" type="text" required>
        </div>
        <div class="form-group">
            <input class="form-control" name="pwd" autocomplete="off" placeholder="Password" type="password" required>
        </div>
        <div class="form-group">
            <input class="form-control" name="pwdcheck" autocomplete="off" placeholder="Re-type password" type="password" required oninput="check(this)">
        </div>
        <button class="btn btn-primary" type="submit">Submit</button>

        <!-- Validate form script -->
        <script>
            function validateform(){
                let pwd = document.forms['register']['pwd'].value;
                let pwdcheck = document.forms['register']['pwdcheck'].value;

                if (pwd != pwdcheck){
                    alert("Passwords do not match");
                    return false;
                }
                else {
                    return true;
                }
            }
        </script>
    </form>

{% endblock %}